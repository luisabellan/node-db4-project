"use strict";var db=require("../data/db-config.js");function getRecipes(){return db("recipe")}function findById(e){return db("recipe").where({id:e}).first()}function getShoppingList(e){return db("recipe as r").join("ingredient as i").select("i.name as ingredient_name","i.quantity").where({"r.id":e})}function getInstructions(e){return db("recipe as r").select("r.id","s.instructions").join("step as s","r.id","s.id").where({"r.id":e})}function add(n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(db("recipe").insert(n).then(function(e){return findById(e[0])}));case 2:case"end":return e.stop()}})}function remove(e){return db("recipe").where({id:e}).first().del()}module.exports={getRecipes:getRecipes,getShoppingList:getShoppingList,getInstructions:getInstructions,findById:findById,add:add,remove:remove};